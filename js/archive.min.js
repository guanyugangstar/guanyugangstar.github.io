/*
 * Credits: this script is shamelessly borrowed from
 * https://github.com/kitian616/jekyll-TeXt-theme
 */
!function(){function n(){for(var n=0,t={},i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var a=i[o].split("=");void 0===t[a[0]]?t[a[0]]=a[1]:"string"==typeof t[a[0]]?t[a[0]]=[t[a[0]],a[1]]:t[a[0]].push(a[1])}return t}var t=function(){var n=window.location.href.split("?")[0];return function(t){"string"==typeof t?window.history.replaceState(null,"",n+t):window.history.replaceState(null,"",n)}}();$(document).ready(function(){var i=$(".js-tags"),o=i.find(".tag-button"),a=i.find(".tag-button--all"),r=$(".js-result"),d=r.find("section"),s=[],l=null,c=[];!function(){for(var n,t=0,i=0;t<d.length;t++)c.push(i),i+=d.eq(t).find(".item").length;c.push(i)}(),d.each(function(){s.push($(this).find(".item"))});function u(n){if(!n)return a;var t=o.filter('[data-encode="'+n+'"]');return 0===t.length?a:t}function f(n){n&&($lastFocusButton&&!$lastFocusButton.is(n)&&(l.removeClass("focus"),n.addClass("focus")),l=n)}function h(n,t){var i={},o=void 0,a=void 0,r=void 0;for(o=0;o<s.length;o++)for(a=s[o],r=0;r<a.length;r++)if(""===n||void 0===n)i[o]||(i[o]={}),i[o][r]=!0;else for(var d=a.eq(r).data("tags").split(","),l=0;l<d.length;l++)if(d[l]===n){i[o]||(i[o]={}),i[o][r]=!0;break}for(o=0;o<s.length;o++)i[o]&&d.eq(o).removeClass("d-none"),i[o]||d.eq(o).addClass("d-none"),a=0;a<s[o].length;a++)i[o]&&i[o][a]?s[o].eq(a).removeClass("d-none"):s[o].eq(a).addClass("d-none")}(void 0===r||r.length<=0||r.hasClass("d-none"))&&(r.removeClass("d-none"),function(n,t){var i=n(),o=t.attr("data-encode");""!==o&&"string"==typeof o?t("?tag="+o):t()}(function(){var t=n(),i=t.tag;return function(){var n,t=0;for(n=0;n<d.length;n++)c.push(t),t+=d.eq(n).find(".item").length;c.push(t)}(),function(n,t){var i={},o=void 0,a=void 0,r=void 0;for(o=0;o<s.length;o++)for(a=s[o],r=0;r<a.length;r++)if(""===n||void 0===n)i[o]||(i[o]={}),i[o][r]=!0;else for(var d=a.eq(r).data("tags").split(","),l=0;l<d.length;l++)if(d[l]===n){i[o]||(i[o]={}),i[o][r]=!0;break}for(o=0;o<s.length;o++)i[o]&&d.eq(o).removeClass("d-none"),i[o]||d.eq(o).addClass("d-none"),a=0;a<s[o].length;a++)i[o]&&i[o][a]?s[o].eq(a).removeClass("d-none"):s[o].eq(a).addClass("d-none")}(i,function(n){"string"==typeof n?window.history.replaceState(null,"",window.location.href.split("?")[0]+n):window.history.replaceState(null,"",window.location.href.split("?")[0])}),function n(t,i){var o,a,r,d,l,c=t.data("encode");(o=i).addClass("focus"),$lastFocusButton&&!$lastFocusButton.is(o)&&$lastFocusButton.removeClass("focus"),l=o,void 0===(r=c)||"string"!=typeof r?history.replaceState(null,"",location.pathname):history.replaceState(null,"",(location.pathname,"?tag="+r))}($(this),$(this)))}))}();