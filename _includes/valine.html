<!-- valine 评论框 start -->
<div id="comment"></div>
<script src="https://unpkg.com/leancloud-storage@3/dist/av-min.js"></script>
<script src='https://unpkg.com/valine@1/dist/Valine.min.js'></script>
<script>
    // 从Jekyll配置获取Valine设置
    var appId = '{{ site.valine.appId }}';
    var appKey = '{{ site.valine.appKey }}';
    
    // 如果appId仍然是默认值，则尝试从全局变量获取
    if (appId === 'YOUR_LEANCLOUD_APP_ID') {
        appId = window.LEANCLOUD_APP_ID || '';
        appKey = window.LEANCLOUD_APP_KEY || '';
    }
    
    new Valine({
        el:'#comment',
        appId: appId,
        appKey: appKey,
        notify:true,
        verify:false,
        avatar:'mm',
        pageSize:10,
        path: '{{ page.url }}',
        placeholder:'在这里写评论...'
    });
</script>
<!-- valine 评论框 end -->